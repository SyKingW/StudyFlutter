<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <title>智能门磁传感器</title>
    <link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style>
        html {
            position: relative;
            min-height: 100%;
        }

        body {
            height: 100%;
            width: 100%;
            margin: 0;
        }

        div {
            font-size: 2rem;
        }

        .bottom {
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }
    </style>

</head>
<body>
    <div style="display: flex;min-height: 100vh;flex-direction: column;">
        <div class="row" style="flex-wrap: wrap;margin-right:0px;padding-bottom:50px;flex:1;margin-left:0px;">
            <h3 class="form-group text-center" data-i18="1" data-key="menu_DoorMagnetic" style="margin-top:30px;"></h3>
            <div class="col-xs-12 col-md-12 col-sm-12 form-group"><img src="./Upload/20181011115030.jpg" class="img-responsive" /></div>
            <div class="form-group col-xs-12 col-md-12 col-sm-12"> </div>
            <div class="col-xs-12 col-md-12 col-sm-12 text-center form-group" data-i18="1" data-key="desc_18" style="font-size:0.7em;color:#fbb64c;"></div>
            <div class="col-xs-12 col-md-12 col-sm-12 text-center form-group" data-i18="1" data-key="" style="font-size:0.8em">
            </div>

            <div style="font-size: 0.8em;margin-top:10px;width:100%;" class="text-center" data-key="LANScanAdd" data-i18="1">
                点击下一步开始局域网内搜索添加设备
            </div>
        </div>
        <div class="bottom">
            <div style="width:100%;justify-content: center;display: flex;" class="text-center">
                <input type="button" class="btn btn-warning col-md-12 col-xs-12 col-sm-12" data-i18="1" data-key="btn_next" value="下一步" onclick="next()" style="height: 3.5rem;font-size: 0.8em;background-color:#ff7a15;margin-bottom: 1.5rem;width: 90%;margin-top:10px;" id="btn_next" />
            </div>
        </div>
    </div>
    <script src="./jquery2.1.4.min.js"></script>
    <script src="./i18n/i18n.js"></script>
    <script type="text/javascript">
        var langType = "cn";

        function isIOS() {
            var u = navigator.userAgent;
            var isIOS= u.indexOf("OS X")>-1;
            return isIOS;
        }

        function next() {
            var temp = { "redirect_type": "LANScan", "details_device_type": [{"device_type":"0402","zone_id":"0015"},] };
            if (isIOS()) {window.webkit.messageHandlers.jsAddDevice.postMessage(JSON.stringify(temp));}
            else {androidNotify.jsAddDevice(JSON.stringify(temp));}
        }

        $(function () {
            getLangType();
            initI18();
        });

   
        
        function getLangType() {
            try {
                if (isIOS) {
                    window.webkit.messageHandlers.jsGetConfig.postMessage("");
                }
                else {
                    androidNotify.jsGetConfig("");
                }
            } catch (e) {
                console.warn(e,"getLangTypeError");
            }
        }


        function jsRespondsToGetConfig(config) {
            var appConfig = JSON.parse(config);
            
            $("#btn_next").css("background-color",appConfig.tColor);//换色
            
            if (typeof (appConfig.language) != undefined) {
                if (appConfig.language == "en") { langType = "en"; }
                else if (appConfig.language == "zh-Hans") { langType = "cn"; }
                else if (appConfig.language == "zh-Hant" || appConfig.language == "zh-HK") { langType = "zh_cn"; }
            }

            //在这儿改界面上的语言
            initI18();
        }


        function initI18() {
            $("h3[data-i18='1']").each(function (idx, ele) {
                var key = $(ele).data("key");
                if(typeof(key)!="undefined"&&key.length>0){
                    $(ele).html(tempLang[key][langType]);
                }
            });

            var i18s = $("div[data-i18='1']");
            if (i18s) {
                i18s.each(function (idx, ele) {
                    var key = $(ele).data("key");
                    if(typeof(key)!="undefined"&&key.length>0){
                        $(ele).html(tempLang[key][langType]);
                    }
                    
                });
            }
            i18s = $("input[data-i18='1']");
            if (i18s) {
                i18s.each(function (idx, ele) {
                    var key = $(ele).data("key");
                    if(typeof(key)!="undefined"&&key.length>0){
                        $(ele).val(tempLang[key][langType]);
                    }
                });
            }
        }

    </script>
</body>
</html>